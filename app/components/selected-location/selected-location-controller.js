angular.module("app").controller("selectedLocationController",["$scope","$http","$stateParams","fieldbookService","searchBarService","$state",function(e,o,t,n,a,s){e.location=t.ubicacion,e.locationInfo,e.fieldBookData={},e.isMobile=window.innerWidth<=600||window.innerHeight<=500,e.loadComplete=!1,e.clientsShown,e.noResults,e.showProducts=!1,e.showStores=!1,e.callPerformed=function(o){_trackEvent("Llamadas",o,e.searchText)},e.locationConsulted=function(o){_trackEvent("Ubicaciones",o,e.searchText)},e.logoPressed=function(){document.getElementById("searchterm").focus()},e.search=function(o,t){window.scrollTo(0,0),document.getElementById("searchterm").blur(),e.clientsShown=a.getMatches(e.fieldBookData,o,t),e.noResults=a.noResults(e.clientsShown),e.searchText=o;var n=document.getElementById("searchBox");document.getElementById("searchterm").value=o,n.style.display="flex",n.className="nav-down",e.noResults?(ga("send","pageview","search?searchText="+o.toLowerCase()+" (Not Found)"),s.go("selectedLocation.sinResultados")):(ga("send","pageview","search?searchText="+o.toLowerCase()),s.go("selectedLocation.resultados"))},function(){var o=function(o){e.locationInfo=o,null!=o.sugerencias&&(o.sugerencias=o.sugerencias.split(","))};n.getRegions(function(t){for(reg in t)t[reg].nombre===e.location&&(o(t[reg]),n.getAllData(t[reg],function(o){e.fieldBookData=o,e.loadComplete=!0}))})}()}]);