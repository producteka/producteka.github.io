angular.module("app").controller("selectedLocationController",["$scope","$http","$stateParams","configurationService","fieldbookService","searchBarService","$state",function(e,o,t,a,n,s,r){e.location=t.ubicacion,e.locationInfo,e.fieldBookData={},e.isMobile=window.innerWidth<=600||window.innerHeight<=500,e.loadComplete=!1,e.clientsShown,e.noResults,e.showProducts=!1,e.showStores=!1,e.callPerformed=function(o){_trackEvent("Llamadas",o,e.searchText)},e.locationConsulted=function(o){_trackEvent("Ubicaciones",o,e.searchText)},e.logoPressed=function(){document.getElementById("searchterm").focus()},e.search=function(o,t){window.scrollTo(0,0),document.getElementById("searchterm").blur(),e.clientsShown=s.getMatches(e.fieldBookData,o,t),e.noResults=s.noResults(e.clientsShown);var n=document.getElementById("searchBox"),c=(document.getElementById("searchterm"),document.getElementById("close-suggestions"));n.style.display="none",c.style.display="none",n.className="nav-up",e.searchText=o,e.noResults?("web"===a.general.appType?ga("send","pageview","search?searchText="+o.toLowerCase()+" (Not Found)"):"mobile"===a.general.appType&&ga_storage._trackPageview("mobileSearch?searchText="+o.toLowerCase()+" (Not Found)","No Results Mobile Search"),r.go("selectedLocation.sinResultados")):("web"===a.general.appType?ga("send","pageview","search?searchText="+o.toLowerCase()):"mobile"===a.general.appType&&ga_storage._trackPageview("mobileSearch?searchText="+o.toLowerCase(),"Mobile Search"),r.go("selectedLocation.resultados")),"mobile"===a.general.appType&&ga_storage._trackEvent("Busquedas",e.noResults?"Sin resultados":"Exitosas",o.toLowerCase())},function(){var o=function(o){e.locationInfo=o,null!=o.sugerencias&&(o.sugerencias=o.sugerencias.split(","))};n.getRegions(function(t){for(reg in t)t[reg].nombre===e.location&&(o(t[reg]),n.getAllData(t[reg],function(o){e.fieldBookData=o,e.loadComplete=!0}))})}()}]);