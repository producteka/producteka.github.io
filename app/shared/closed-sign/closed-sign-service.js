angular.module("app").factory("closedSignService",[function(){var r,e=new Date,u=e.getHours(),o=e.getMinutes(),i=function(){return["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"][(new Date).getDay()]},n=function(r,e,i,n){var t=function(){if(u===r){if(o>=e)return!0}else{if(u!==i)return!0;if(o<n)return!0}};if(null!=r&&null!=i){if(i===r)return!0;if(i<r){if((u>=r||u<=i)&&t())return!0}else if(u>=r&&u<=i&&t())return!0}return!1},t=function(r,e,u){if(void 0==e)return r;var o,i,n,t;return r&&(open1hour=Number(r.split(":")[0])),e&&(open2hour=Number(e.split(":")[0])),open1hour>open2hour?(n=open1hour,o=r,t=open2hour,i=e):(n=open2hour,o=e,t=open1hour,i=r),u<t?i:u<n?o:u>n?i:void 0},s={};return s.getData=function(e){for(var o in e.hours)if(i()===e.hours[o].dia){var s=!1;if(void 0!=e.hours[o].abre&&void 0!=e.hours[o].cierra){var a=Number(e.hours[o].abre.split(":")[0]),l=Number(e.hours[o].abre.split(":")[1]),v=Number(e.hours[o].cierra.split(":")[0]),p=Number(e.hours[o].cierra.split(":")[1]);s=n(a,l,v,p)}void 0!=e.hours[o].vuelveabrir&&void 0!=e.hours[o].vuelvecerrar&&(a=Number(e.hours[o].vuelveabrir.split(":")[0]),l=Number(e.hours[o].vuelveabrir.split(":")[1]),v=Number(e.hours[o].vuelvecerrar.split(":")[0]),p=Number(e.hours[o].vuelvecerrar.split(":")[1]),s||(s=n(a,l,v,p))),r=t(e.hours[o].abre,e.hours[o].vuelveabrir,u),nextOpenHour=r?r.split(":")[0]:0}return{isOpen:s,openTime:r,openHour:nextOpenHour}},s}]);