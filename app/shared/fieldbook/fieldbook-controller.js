angular.module("app").factory("fieldbookService",["configurationService","$http",function(r,n){var o=r.fieldbookService,u=function(r){url=o.locationsUrl+"zonas",n({url:url}).then(function(n){r(n.data)},function(r){$log.error("error loading products",r)})},t={},l=!1,i=!1,c=!1,e=function(){return!1!==l&&!1!==i&&!1!==c},a=function(r,o){url=r.url+"productos",n({url:url}).then(function(r){o(r.data)},function(r){$log.error("error loading products",r)})},f=function(r,o){url=r.url+"clientes",n({url:url}).then(function(r){o(r.data)},function(r){$log.error("error loading clients",r)})},d={};return d.getHours=function(r,o){url=r.url+"horarios",n({url:url}).then(function(r){o(r.data)},function(r){$log.error("error loading hours",r)})},d.getRegions=function(r){u(function(n){r(n)})},d.getAllData=function(r,n){a(r,function(r){t.allProducts=r,l=!0,e()&&n(t)}),f(r,function(r){t.allClients=r,i=!0,e()&&n(t)}),d.getHours(r,function(r){t.allHours=r,c=!0,e()&&n(t)})},d}]);